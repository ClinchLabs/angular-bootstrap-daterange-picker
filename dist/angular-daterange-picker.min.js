"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}!function(){angular.module("dateRangePicker",[])}();var _createClass=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();!function(){function e(e,t){var a=function(){function a(n,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.locale;_classCallCheck(this,a),this._startDate=n?e(n):null,this._endDate=r?e(r):null,this._locale=o}return _createClass(a,[{key:"valueOf",value:function(){return this.endDate?[this.startDate,this.endDate].join(this._locale.separator):this.startDate}},{key:"toString",value:function(){return this.valueOf()}},{key:"startDate",get:function(){return this._endDate?this._startDate.format(this._locale.format):""}},{key:"endDate",get:function(){return this._endDate?this._endDate.format(this._locale.format):""}}],[{key:"isValid",value:function(t,a){if(!t||!a)return!0;var n=e.isMoment(t)?t:e(t),r=e.isMoment(a)?a:e(a);return n.isBefore(r)||n.isSame(r,"day")}}]),a}();return a}e.$inject=["moment","dateRangePickerConfig"],angular.module("dateRangePicker",[]).factory("DateRange",e)}(),function(){var e={clearLabel:"Clear",autoUpdateInput:!1,locale:{separator:" - ",format:"YYYY-MM-DD"}};angular.module("dateRangePicker").constant("moment",moment).constant("dateRangePickerConfig",e)}();var _slicedToArray=function(){function e(e,t){var a=[],n=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{!n&&l.return&&l.return()}finally{if(r)throw o}}return a}return function(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();!function(){function e(e,t,a){function n(n,r,o,i){function l(){m.setStartDate(),m.setEndDate()}function u(e){m&&e&&(m.endDate<e&&m.setEndDate(e),s.startDate=e,m.setStartDate(e))}function c(e){m&&e&&(m.startDate>e&&m.setStartDate(e),s.endDate=e,m.setEndDate(e))}function d(){f.daterangepicker(s,function(e,a){return n.$apply(n.model=new t(e,a,s.locale))}),m=f.data("daterangepicker");var e=["apply","cancel","show","hide","showCalendar","hideCalendar"];e.forEach(function(e){var t="date"+(e[0].toUpperCase()+e.slice(1));angular.isFunction(n[t])&&f.on(e+".daterangepicker",function(e){return n[t]({event:e})})}),o.hasOwnProperty("dateClearable")&&(s.locale.cancelLabel=s.clearLabel,f.on("cancel.daterangepicker",function(){n.$apply(n.model=new t(null,null,s.locale))}))}var s=angular.merge({},n.option,a),f=$(r),m=void 0;n.model=n.model||{},o.dateMin&&(i.$validators.dateMin=function(e){return e&&t.isValid(s.minDate,e.startDate)},n.$watch("dateMin",function(t){s.minDate=!!t&&e(t),d()})),o.dateMax&&(i.$validators.dateMax=function(e){return e&&t.isValid(e.endDate,s.maxDate)},n.$watch("dateMax",function(t){s.maxDate=!!t&&e(t),d()})),i.$parsers.push(function(e){var a=~e.indexOf(s.locale.separator)?e.split(s.locale.separator):[e,null],n=_slicedToArray(a,2),r=n[0],o=n[1];return new t(r,o,s.locale)}),i.$formatters.push(function(e){return e instanceof t?e.toString():new t(e.startDate,e.endDate,s.locale).toString()}),i.$render=function(){return i.$modelValue&&i.$modelValue.startDate?(u(i.$modelValue.startDate),c(i.$modelValue.endDate)):l(),f.val(i.$viewValue)},i.$isEmpty=function(e){return!(angular.isString(e)&&e.length)},d(),n.$watch("model.startDate",function(e){return u(e)}),n.$watch("model.endDate",function(e){return c(e)}),n.$on("$destroy",function(){return null!=m?m.remove():void 0})}return{link:n,restrict:"A",require:"ngModel",scope:{option:"=",dateMin:"=",dateMax:"=",model:"=ngModel",dateApply:"&",dateCancel:"&",dateShow:"&",dateHide:"&",dateShowCalendar:"&",dateHideCalendar:"&"}}}e.$inject=["moment","DateRange","dateRangePickerConfig"],angular.module("dateRangePicker").directive("dateRangePicker",e)}();